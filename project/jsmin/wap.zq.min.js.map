{"version":3,"sources":["wap.zq.min.js"],"names":["$","setScaleRio","$ww","window","width","baseScaleRio","codeMod","dataCacheTime","timeCode","resize","zqApi","getMoreList","paramsData","callback","beforeSendFnc","apiUrl","ajax","type","dataType","url","data","beforeSend","success","backData","error","err","console","log","getRating","fn","extend","gsZqNav","mainNavTo","_this","find","on","$ts","this","toTar","animate","scrollTop","offset","top","mNavHeight","setMainNavLinkState","st","each","toTarHeight","removeClass","addClass","setMainNavState","tarTop","$placeHolder","setGlNavState","closest","height","glNavLen","length","scroll","gsZqInfoPlatformTime","createDom","dt","$box","vDom","vDomNav","vDomCon","i","item","sty","pt","time","html","operationDom","$btn","$item","idx","index","eq","formatData","ptTimeData","tmpArr","text","push","gsZqInfoIntro","para","replace","remove","hide","append","show","gsZqSwp","$swp","Swiper","slidesPerView","freeMode","freeModeSticky","gsZqTab","$nav","gsZqGl","addQuickGo","zk","quickDom","map","$this","itemTop","moreListFnc","$moreList","wapUrl","attr","gsZqGetCommentCount","cycm","sid","isAdd","topic_source_id","responseJson","result","hasOwnProperty","cmobj","comments","gsZqAddLoading","ldDom","gsZqRemoveLoading","gsZqGetMoreOnce","addData","$tar","setTimeout","href","moreUrl","target","off","gsZqGetMore","transData","tmpJson","lpg","isCache","cacheTime","templatekey","tmk","id","nid","page","jsondata","JSON","stringify","moreDt","status","resDt","body","indexOf","data-page","gsZqSetMinHeight","setMH","mH","hPad","outerHeight","$wh","hHead","hFoot","css","min-height","gsZqGetRating","genneralId","num","bdt","calcScore","tmpScore","sorce","numDom","parseFloat","gsZqCreatePic","$dataArea","tmpSmall","tmpTiny","tmpObj","pic","small","tiny","origin","sizeW","sizeH","picData","bindPswp","cps","photoSwp","picDom","PhotoSwipe","pswpLink","getScript","DomExist","tar","infoIntroduce","infoPlatformTime","swp","tab","gl","nav","moreOnce","more","commentCount","setMinHeight","addSwpOnce","initPhotoSwipeFromDOM","gallerySelector","parseThumbnailData","tarData","items","ehl","msrc","src","w","h","ori","openPhotoSwipe","clk","guid","disableAnimation","fromURL","SetSaveUrl","setOrigin","originIdx","gallery","options","pswpElement","shareEl","fullscreenEl","zoomEl","bgOpacity","showHideOpacity","galleryUID","history","tapToClose","tapToToggleControls","getThumbBoundsFn","thumbnail","pageYScroll","pageYOffset","document","documentElement","rect","getBoundingClientRect","x","left","y","PhotoSwipeUI_Default","init","listen","getCurrentIndex","opacity","galleryElements","createPic","openClub","$club","trim","jQuery"],"mappings":"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","file":"wap.zq.min.js","sourcesContent":["(function ($) {\r\n    var baseScaleRio,codeMod = 'dev',dataCacheTime = 60;\r\n    dataCacheTime = codeMod==='dev'?80:60;\r\n    var timeCode = '20180420001';\r\n    function setScaleRio(){\r\n        var $ww = $(window).width();\r\n        $ww = $ww>720?720:$ww;\r\n        baseScaleRio = $ww/7.2;\r\n    }\r\n    setScaleRio();\r\n    $(window).resize(setScaleRio);\r\n    var zqApi = {\r\n        getMoreList:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//db2.gamersky.com/LabelJsonpAjax.aspx\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        getRating:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//cm1.gamersky.com/apirating/getplayersscore\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        }\r\n    };\r\n    $.fn.extend({\r\n        gsZqNav:function(){\r\n            var _this = $(this),$placeHolder = _this.closest('.gsZqNavPlaceholder'),mNavHeight = $placeHolder.height(),glNavLen = $('#gsSCMexist').length;\r\n            function mainNavTo() {\r\n                _this.find('a').on('tap',function () {\r\n                    var $ts = $(this),toTar = $ts.data('to');\r\n                    $('html,body').animate({scrollTop:$('.'+toTar).offset().top - mNavHeight},200);\r\n                });\r\n            }\r\n            function setMainNavLinkState(st) {\r\n                _this.find('a').each(function () {\r\n                    var $ts = $(this),\r\n                        toTar = $ts.data('to'),\r\n                        toTarHeight = $('.'+toTar).offset().top;\r\n                    if(st>toTarHeight - 50){\r\n                        _this.find('a').removeClass('cur');\r\n                        $ts.addClass('cur');\r\n                    }\r\n                });\r\n\r\n            }\r\n            function setMainNavState(st) {\r\n                var tarTop = $placeHolder.offset().top;\r\n                if(st>tarTop){\r\n                    _this.addClass('cur');\r\n                }else{\r\n                    _this.removeClass('cur');\r\n                }\r\n            }\r\n            function setGlNavState(st){}\r\n            //主导航\r\n            mainNavTo();\r\n            setMainNavState(0);\r\n            $(window).scroll(function () {\r\n                var st = $(window).scrollTop();\r\n                setMainNavState(st);\r\n                setMainNavLinkState(st);\r\n                if(glNavLen>0){\r\n                    setGlNavState(st);\r\n                }\r\n            });\r\n        },\r\n        gsZqInfoPlatformTime:function () {\r\n            this.each(function () {\r\n                var $ts = $(this);\r\n                function createDom(dt) {\r\n                    var $box = $ts.find('.gsZqGameInfoPlatBox'),\r\n                        vDom='',vDomNav='',vDomCon='';\r\n                    vDomNav += '<p class=\"gsZqGameInfoPlat\">平台：';\r\n                    vDomCon += '<div class=\"time gsZqGameInfoTime\">';\r\n                    $.each(dt,function (i,item) {\r\n                        var sty = '';\r\n                        sty = i===0?'cur':'';\r\n                        vDomNav += '<a class=\"'+sty+'\">'+item.pt+'</a>';\r\n                        vDomCon += '<p class=\"'+sty+'\">上市：'+item.time+'('+item.pt+') </p>';\r\n                    });\r\n                    vDomNav += '</p>';\r\n                    vDomCon += '</div>';\r\n                    vDom += vDomNav;\r\n                    vDom += vDomCon;\r\n                    $box.html(vDom);\r\n                }\r\n                function operationDom() {\r\n                    var $btn = $ts.find('.gsZqGameInfoPlat'),\r\n                        $item = $ts.find('.gsZqGameInfoTime');\r\n                    $btn.find('a').on('tap',function () {\r\n                        var idx = $(this).index();\r\n                        $btn.find('a').removeClass('cur').eq(idx).addClass('cur');\r\n                        $item.find('p').removeClass('cur').eq(idx).addClass('cur');\r\n                    });\r\n                }\r\n                function formatData(){\r\n                    var ptTimeData = [];\r\n                    $('#dataTimeArea').find('li').each(function () {\r\n                        var $ts = $(this).find('a'),tmpArr;\r\n                        tmpArr = {\r\n                            pt:$ts.text(),\r\n                            time:$ts.data('time')\r\n                        };\r\n                        ptTimeData.push(tmpArr);\r\n                    });\r\n                    createDom(ptTimeData);\r\n                    operationDom();\r\n                }\r\n                formatData();\r\n            });\r\n        },\r\n        gsZqInfoIntro:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $btn = $ts.find('.gsZqGameInfoIntroMore');\r\n                var para = '<p>';\r\n                $ts.find('p').each(function (i) {\r\n                    para += $(this).text().replace('　　','');\r\n                    if(i===0){\r\n                        para += ':';\r\n                    }\r\n                }).remove();\r\n                para += '</p>';\r\n                $('.gsZqGameInfoIntroHolder').hide();\r\n                $ts.append(para).show();\r\n                $btn.on('tap',function () {\r\n                    $ts.addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqSwp:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $swp = $ts.find('.gsZqSwp');\r\n                var zqSwp = new Swiper($swp, {\r\n                    slidesPerView:'auto',\r\n                    freeMode : true,\r\n                    freeModeSticky : true\r\n                })\r\n            });\r\n        },\r\n        gsZqTab:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $nav = $ts.find('.gztNav'),\r\n                    $box = $ts.find('.gztBox');\r\n                $nav.find('.gztNavBtn').on('tap',function () {\r\n                    var idx = $(this).index();\r\n                    $nav.find('.gztNavBtn').removeClass('cur').eq(idx).addClass('cur');\r\n                    $box.find('.gztItem').removeClass('cur').eq(idx).addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqGl:function () {\r\n            var $ts = $(this);\r\n            $('.ymw-tags').removeClass();\r\n            if($ts.find('#gsSCMexist').length<=0){\r\n                $ts.hide();\r\n                $('.gsZqNav').find('.gsZqNavGl').remove();\r\n            }else{\r\n                //$('.gsZqNav').find('.gsZqNavGl').removeClass('hide');\r\n                $ts.find('.collectbox').show().find('.gs_strategy_collect').removeClass().addClass('zq-strategy-collect');\r\n                $ts.find('.gs_sc_item_list').each(function () {\r\n                    $(this).find('li:gt(3)').remove();\r\n                });\r\n                $ts.find('a').each(function () {\r\n                    var _this = $(this),wapUrl = _this.attr('waphref');\r\n                    _this.attr('href',wapUrl);\r\n                });\r\n                function addQuickGo(zk) {\r\n                    var quickDom = '';\r\n                    quickDom += '<div class=\"gs-zq-gl-quick\">';\r\n                    $ts.find('.gs_sc_item').map(function (idx) {\r\n                        var $this = $(this);\r\n                        quickDom += '<a class=\"gsZqGlQuickBtn\" data-idx=\"'+idx+'\">'+$this.find('.gs_sc_item_btn').text()+'</a>';\r\n                    });\r\n                    quickDom += '</div>';\r\n                    $ts.find('.gsZqGlQuick').html(quickDom);\r\n                    $ts.find('.gsZqGlQuickBtn').on('tap',function () {\r\n                        var idx = $(this).data('idx'),itemTop;\r\n                        if(zk === true){\r\n                            $ts.find('.gsZqGlBoxMore').remove();\r\n                            $ts.find('.gs_sc_item:gt(1)').show();\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top - 0.7*baseScaleRio;\r\n                        }else{\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top;\r\n                        }\r\n                        $('html,body').animate({scrollTop:itemTop},200);\r\n                    });\r\n                }\r\n                function moreListFnc(){\r\n                    var $moreList = $ts.find('.gs_sc_item:gt(1)');\r\n                    $moreList.hide();\r\n                    $ts.find('.zq-strategy-collect').append('<a class=\"gs-zq-more gs-zq-more-blue gsZqGlBoxMore\">更多</a>');\r\n                    $ts.find('.gsZqGlBoxMore').on('tap',function () {\r\n                        $(this).remove();\r\n                        $moreList.show();\r\n                    });\r\n                }\r\n                if($ts.find('.gs_sc_item').length>2 && $('#gsZqStrategyShow').length<1){\r\n                    moreListFnc();\r\n                }\r\n                if($('#gsZqStrategyShow').length>0){\r\n                    addQuickGo();\r\n                }else{\r\n                    addQuickGo(true);\r\n                }\r\n            }\r\n        },\r\n        gsZqGetCommentCount:function(){\r\n            var cycm = \"\";\r\n            $(\".gsZqComment\").each(function () {\r\n                var $ts = $(this),sid = $ts.attr('data-sid'),isAdd = $ts.attr('data-add');\r\n                if (cycm !== \"\") {\r\n                    cycm = cycm + \",\"\r\n                }\r\n                if(isAdd !== 'yes'){\r\n                    cycm = cycm + sid;\r\n                }\r\n            });\r\n            if (cycm !== \"\") {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    url: \"//cm.gamersky.com/commentapi/count\",\r\n                    dataType: \"jsonp\",\r\n                    data: {\r\n                        topic_source_id: cycm\r\n                    },\r\n                    success: function (responseJson) {\r\n                        $(\".gsZqComment\").each(function () {\r\n                            var $ts = $(this);\r\n                            if (responseJson.result.hasOwnProperty($ts.attr(\"data-sid\"))) {\r\n                                var cmobj = responseJson.result[$ts.attr(\"data-sid\")];\r\n                                $ts.text(cmobj.comments).attr('data-add','yes');\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        gsZqAddLoading:function(){\r\n            var ldDom = '';\r\n            ldDom = '<div class=\"gs-zq-loading gsZqLoading\"></div>';\r\n            this.append(ldDom)\r\n        },\r\n        gsZqRemoveLoading:function(){\r\n            $('.gsZqLoading').remove();\r\n        },\r\n        gsZqGetMoreOnce:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    moreUrl = $ts.data('href'),\r\n                    $tar = $('.'+$ts.data('tar'));\r\n                function addData(){\r\n                    $ts.hide();\r\n                    $tar.gsZqAddLoading();\r\n                    setTimeout(function () {\r\n                        $tar.find('ul li').show();\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().addClass('gs-zq-more-all').html('查看全部').attr({\r\n                            'href':moreUrl,\r\n                            'target':'_blank'\r\n                        });\r\n                    },500);\r\n                }\r\n                $ts.on('tap',function () {\r\n                    $ts.off();\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqGetMore:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $tar = $('.'+$ts.data('tar')),tmk,nid;\r\n                tmk = $ts.data('tmk');\r\n                nid = $ts.data('nid');\r\n                function addData(){\r\n                    var transData,tmpJson,lpg = $ts.attr('data-page');\r\n                    lpg++;\r\n                    tmpJson={\r\n                        type:\"templatekeylabel\",\r\n                        isCache:true,\r\n                        cacheTime:dataCacheTime,\r\n                        templatekey:tmk,\r\n                        id:nid,\r\n                        page:lpg\r\n                    };\r\n                    transData = {\r\n                        jsondata:JSON.stringify(tmpJson)\r\n                    };\r\n                    zqApi.getMoreList(transData,function (moreDt) {\r\n                        if(moreDt.status === 'ok'){\r\n                            var resDt = moreDt.body;\r\n                            if (resDt.indexOf(\"没有任何记录\") > 0){\r\n                                $ts.show().addClass('gs-zq-more-done').html('全部加载完成').off();\r\n                            }else{\r\n                                $tar.find('ul').append(resDt);\r\n                                $(\".gsZqComment\").gsZqGetCommentCount();\r\n                            }\r\n                        }\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().attr({\r\n                            'data-page':lpg\r\n                        });\r\n                    },function () {\r\n                        $ts.hide();\r\n                        $tar.gsZqAddLoading();\r\n                    })\r\n                }\r\n                $ts.on('tap',function () {\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqSetMinHeight:function () {\r\n            var _this = this;\r\n            function setMH(){\r\n                var hPad = _this.outerHeight() - _this.height(),\r\n                    $wh = $(window).height(),\r\n                    hHead = _this.offset().top,\r\n                    hFoot = $('.ymw-footer').outerHeight(),mH;\r\n                mH = $wh - hHead - hFoot - hPad;\r\n                _this.css({\r\n                    'min-height':mH\r\n                });\r\n            }\r\n            setMH();\r\n            $(window).resize(setMH)\r\n        },\r\n        gsZqGetRating:function () {\r\n            var transData,tmpJson,_this = this;\r\n            tmpJson = {\r\n                genneralId: _this.attr('data-gameid'),\r\n                num:'10'\r\n            };\r\n            transData = {\r\n                jsondata:JSON.stringify(tmpJson)\r\n            };\r\n            zqApi.getRating(transData,function (bdt) {\r\n                if(bdt.status === 'ok'){\r\n                    var tmpScore = bdt.sorce,\r\n                        calcScore,\r\n                        numDom = '';\r\n                    calcScore = parseFloat(tmpScore)*10+'';\r\n                    if(tmpScore !== '--'){\r\n                        if(calcScore === '100'){\r\n                            numDom += '<i class=\"pnm pnm1\"></i>';\r\n                            numDom += '<i class=\"pnm pnm0\"></i>';\r\n                            _this.find('.gsZqRatingNum').addClass('gs-zp-rating-num-full');\r\n                        }else{\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[0]+'\"></i>';\r\n                            numDom += '<i class=\"dot\"></i>';\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[1]+'\"></i>';\r\n                        }\r\n                        _this.find('.gsZqRatingNum').html(numDom);\r\n                    }else{\r\n                        _this.remove();\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        gsZqCreatePic:function () {\r\n            var $tar = $('#gsZpImages'),picDom = '',picData=[];\r\n            function formatData(){\r\n                var $dataArea = $('#demo0').find('.piclist');\r\n                $dataArea.find('a').each(function () {\r\n                    var $ts = $(this),tmpSmall = $ts.attr('data-pic'),tmpTiny = $ts.find('img').attr('src'),tmpObj = {};\r\n                    tmpObj.pic = {\r\n                        small:tmpSmall,\r\n                        tiny:tmpTiny,\r\n                        origin:tmpTiny.replace('_tiny',''),\r\n                        sizeW:1000,\r\n                        sizeH:534\r\n                    };\r\n                    picData.push(tmpObj);\r\n                });\r\n            }\r\n            formatData();\r\n            picDom += '<div class=\"gs-zq-images \">';\r\n            picDom += '<div class=\"gs-zq-title-lev1\">图库</div>';\r\n            picDom += '<div class=\"gs-zq-swp gsZqSwpPicDad\">';\r\n            picDom += '<div class=\"swiper-container gsZqSwp\">';\r\n            picDom += '<div class=\"swiper-wrapper\">';\r\n            $.each(picData,function (i,item) {\r\n                picDom += '<div class=\"swiper-slide\"><a class=\"gsZqPicLook\" data-idx=\"'+i+'\"><img src=\"'+item.pic.tiny+'\" alt=\"gs\"></a></div>';\r\n            });\r\n            picDom += '';\r\n            picDom += '</div></div></div></div>';\r\n            $tar.html(picDom);\r\n\r\n            $('.gsZqSwpPicDad').gsZqSwp();\r\n            function bindPswp() {\r\n                cps.photoSwp(picData);\r\n            }\r\n            if(typeof PhotoSwipe === \"undefined\"){\r\n                var pswpLink = '<link rel=\"stylesheet\" href=\"//j.gamersky.com/css/??g/lib/photoswipe.min.css,g/lib/default-skin.min.css,?dtcode='+timeCode+'\"></link>';\r\n                $('head').append(pswpLink);\r\n                $.getScript('//j.gamersky.com/js/??g/lib/photoswipe.min.js,g/lib/photoswipe-ui-default.min.js',function () {\r\n                    bindPswp();\r\n                });\r\n            }else{\r\n                bindPswp();\r\n            }\r\n        }\r\n    });\r\n    var cps = {\r\n        DomExist:function(tar,callback){\r\n            if(tar.length>0&&typeof callback === \"function\"){\r\n                callback();\r\n            }\r\n        },\r\n        infoIntroduce:function () {\r\n            this.DomExist($('.gsZqGameInfoIntro'),function () {\r\n                $('.gsZqGameInfoIntro').gsZqInfoIntro();\r\n            });\r\n        },\r\n        infoPlatformTime:function () {\r\n            this.DomExist($('.gsZqGameInfo'),function () {\r\n                $('.gsZqGameInfo').gsZqInfoPlatformTime();\r\n            });\r\n        },\r\n        swp:function () {\r\n            this.DomExist($('.gsZqSwpDad'),function () {\r\n                $('.gsZqSwpDad').gsZqSwp();\r\n            });\r\n        },\r\n        tab:function(){\r\n            this.DomExist($('.gsZqTab'),function () {\r\n                $('.gsZqTab').gsZqTab();\r\n            });\r\n        },\r\n        gl:function(){\r\n            this.DomExist($('#gsZqStrategy'),function () {\r\n                $('#gsZqStrategy').gsZqGl();\r\n            });\r\n        },\r\n        nav:function(){\r\n            this.DomExist($('.gsZqNav'),function () {\r\n                $('.gsZqNav').gsZqNav();\r\n            });\r\n        },\r\n        moreOnce:function(){\r\n            this.DomExist($('.gsZqGetMoreOnce'),function () {\r\n                $('.gsZqGetMoreOnce').gsZqGetMoreOnce();\r\n            });\r\n        },\r\n        more:function(){\r\n            this.DomExist($('.gsZqGetMore'),function () {\r\n                $('.gsZqGetMore').gsZqGetMore();\r\n            });\r\n        },\r\n        commentCount:function(){\r\n            this.DomExist($('.gsZqComment'),function () {\r\n                $('.gsZqComment').gsZqGetCommentCount();\r\n            });\r\n        },\r\n        setMinHeight:function(){\r\n            this.DomExist($('.gsZqLp'),function () {\r\n                $('.gsZqLp').gsZqSetMinHeight();\r\n            });\r\n        },\r\n        getRating:function(){\r\n            this.DomExist($('.gsZqRating'),function () {\r\n                $('.gsZqRating').gsZqGetRating();\r\n            });\r\n        },\r\n        //图片弹出层 默认执行,一般情况不需要修改\r\n        addSwpOnce: function () {\r\n            var swp = '<div class=\"pswp pswp-zq pswpZq\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div>';\r\n            swp += '<div class=\"pswp__ui pswp__ui--hidden\">';\r\n            swp += '<div class=\"pswp__bot-bar\">';\r\n            swp += '<a class=\"pswp-zq-origin-btn pswpBtnOrigin pswp__single-tap\" title=\"查看原图\">查看原图</a>';\r\n            swp += '<a class=\"pswp-zq-save-btn pswpBtnSave pswp__single-tap\" title=\"保存原图\"></a>';\r\n            swp += '</div>';\r\n            swp += '<div class=\"pswp__top-bar\">';\r\n            swp += '<div class=\"pswp__counter\"></div>';\r\n            swp += '<button class=\"pswp__button pswp__button--close\" title=\"关闭\"></button>';\r\n            swp += '<button class=\"pswp__button pswp__button--share\" title=\"Share\"></button> <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button> <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"上一张\"></button> <button class=\"pswp__button pswp__button--arrow--right\" title=\"下一张\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div>';\r\n            swp += '</div></div>';\r\n            $('body').append(swp);\r\n        },\r\n        //图片弹出层方法 默认执行,一般情况不需要修改\r\n        photoSwp: function (dt) {\r\n            var initPhotoSwipeFromDOM = function (gallerySelector) {\r\n                var parseThumbnailData = function (tarData) {\r\n                    var items = [];\r\n                    $.each(tarData,function (i,ehl) {\r\n                        var item = {\r\n                            msrc:ehl.pic.tiny,\r\n                            src: ehl.pic.small,\r\n                            w: ehl.pic.sizeW,\r\n                            h: ehl.pic.sizeH,\r\n                            ori: ehl.pic.origin\r\n                        };\r\n                        items.push(item);\r\n                    });\r\n                    return items;\r\n\r\n                };\r\n                var openPhotoSwipe = function (clk, index, guid, disableAnimation, fromURL) {\r\n                    var pswpElement = $('.pswpZq')[0],\r\n                        gallery,\r\n                        options,\r\n                        items;\r\n                    items = parseThumbnailData(dt);\r\n                    options = {\r\n                        shareEl: false,\r\n                        fullscreenEl: false,\r\n                        zoomEl: false,\r\n                        bgOpacity: 1,\r\n                        showHideOpacity: 0,\r\n                        galleryUID: guid,\r\n                        history: false,\r\n                        tapToClose:true,\r\n                        tapToToggleControls:false,\r\n                        index:index,\r\n                        getThumbBoundsFn: function (index) {\r\n                            var thumbnail = clk.find('img')[0],\r\n                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                                rect = thumbnail.getBoundingClientRect();\r\n                            return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\r\n                        }\r\n                    };\r\n                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\r\n                    gallery.init();\r\n                    var originIdx=0;\r\n                    function SetSaveUrl(idx){\r\n                        $('.pswpZq').find('.pswpBtnSave').attr({\r\n                            'target':'_blank',\r\n                            'href':'//pic.gamersky.com/down/index?url='+items[idx].ori\r\n                        });\r\n                    }\r\n                    gallery.listen('initialZoomIn', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                        $('.pswpZq').animate({ 'opacity': 1 }, 333);\r\n                    });\r\n                    gallery.listen('initialZoomOut', function () {\r\n                        $('.pswpZq').animate({ 'opacity': 0 }, 200);\r\n                    });\r\n                    gallery.listen('afterChange', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                    });\r\n                    function setOrigin() {\r\n                        $('.pswpZq').on('click','.pswpBtnOrigin',function () {\r\n                            $('.pswpZq').find('.pswp__img').each(function () {\r\n                                var $ts = $(this);\r\n                                if($ts.attr('src') === items[originIdx].src){\r\n                                    $ts.attr('src',items[originIdx].ori);\r\n                                }\r\n                            });\r\n                        });\r\n                    }\r\n                    setOrigin();\r\n                };\r\n                var galleryElements = $(gallerySelector);\r\n                galleryElements.attr('data-pswp-uid',1);\r\n                galleryElements.find('.gsZqPicLook').on('click',function () {\r\n                    var $ts = $(this),idx = $ts.data('idx');\r\n                    openPhotoSwipe($ts, idx, 1);\r\n                })\r\n            };\r\n            initPhotoSwipeFromDOM('.gsZqSwpPicDad');\r\n        },\r\n        createPic:function(){\r\n            var _this = this;\r\n            this.DomExist($('#demo0'),function () {\r\n                $('#demo0').gsZqCreatePic();\r\n                _this.addSwpOnce();\r\n            });\r\n        },\r\n        openClub:function(){\r\n            var _this = this,$club = $('#QZCMT');\r\n            if($.trim($club.attr('clubId'))!=='' && $.trim($club.attr('topicId'))!=='') {\r\n                _this.DomExist($club,function () {\r\n                    $.getScript('//j.gamersky.com/web2015/qzcomment/js/qzcmtconfig.wap.js');\r\n                });\r\n            }else{\r\n                $('.gs-zq-club').hide();\r\n            }\r\n        },\r\n        init:function () {\r\n            var _this = this;\r\n            _this.nav();\r\n            _this.infoPlatformTime();\r\n            _this.infoIntroduce();\r\n            _this.tab();\r\n            _this.swp();\r\n            _this.gl();\r\n            _this.setMinHeight();\r\n            _this.moreOnce();\r\n            _this.more();\r\n            _this.commentCount();\r\n            _this.getRating();\r\n            _this.createPic();\r\n            _this.openClub();\r\n        }\r\n    };\r\n    cps.init();\r\n})(jQuery);"]}