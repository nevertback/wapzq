{"version":3,"sources":["wap.zq.min.js"],"names":["$","setScaleRio","$ww","window","width","baseScaleRio","codeMod","dataCacheTime","timeCode","resize","zqApi","getMoreList","paramsData","callback","beforeSendFnc","apiUrl","ajax","type","dataType","url","data","beforeSend","success","backData","error","err","console","log","getRating","fn","extend","gsZqNav","mainNavTo","_this","find","on","$ts","this","toTar","animate","scrollTop","offset","top","mNavHeight","setMainNavLinkState","st","each","toTarHeight","removeClass","addClass","setMainNavState","tarTop","$placeHolder","setGlNavState","closest","height","glNavLen","length","scroll","gsZqInfoPlatformTime","createDom","dt","$box","vDom","vDomNav","vDomCon","i","item","sty","pt","showtime","html","operationDom","$btn","$item","idx","index","eq","formatData","ptTimeData","tmpArr","text","time","push","gsZqInfoIntro","para","replace","remove","hide","append","show","gsZqSwp","$swp","Swiper","slidesPerView","freeMode","freeModeSticky","gsZqTab","$nav","gsZqGl","addQuickGo","zk","quickDom","map","$this","itemTop","moreListFnc","$moreList","wapUrl","attr","gsZqGetCommentCount","cycm","sid","isAdd","topic_source_id","responseJson","result","hasOwnProperty","cmobj","comments","gsZqAddLoading","ldDom","gsZqRemoveLoading","gsZqGetMoreOnceTag","addData","sum","$tar","setTimeout","clkAble","dataCount","data-page","data-total","$t","nowPage","nowTotal","gsZqGetMoreOnce","href","moreUrl","target","off","gsZqGetMore","transData","tmpJson","lpg","isCache","cacheTime","templatekey","tmk","id","nid","page","jsondata","JSON","stringify","moreDt","status","resDt","body","indexOf","gsZqSetMinHeight","setMH","mH","hPad","outerHeight","$wh","hHead","hFoot","css","min-height","gsZqGetRating","genneralId","num","bdt","calcScore","tmpScore","sorce","numDom","parseFloat","gsZqCreatePic","$dataArea","tmpSmall","tmpTiny","tmpObj","pic","small","tiny","origin","sizeW","sizeH","picData","bindPswp","cps","photoSwp","picDom","PhotoSwipe","pswpLink","getScript","DomExist","tar","infoIntroduce","infoPlatformTime","swp","tab","gl","nav","moreOnce","more","commentCount","setMinHeight","addSwpOnce","initPhotoSwipeFromDOM","gallerySelector","parseThumbnailData","tarData","items","ehl","msrc","src","w","h","ori","openPhotoSwipe","clk","guid","disableAnimation","fromURL","SetSaveUrl","setOrigin","originIdx","gallery","options","pswpElement","shareEl","fullscreenEl","zoomEl","bgOpacity","showHideOpacity","galleryUID","history","tapToClose","tapToToggleControls","getThumbBoundsFn","thumbnail","pageYScroll","pageYOffset","document","documentElement","rect","getBoundingClientRect","x","left","y","PhotoSwipeUI_Default","init","listen","getCurrentIndex","opacity","galleryElements","createPic","openClub","$club","trim","ev","preventDefault","location","pzShowHide","sectionShowHide","hideSection","jQuery"],"mappings":"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","file":"wap.zq.min.js","sourcesContent":["(function ($) {\r\n    var baseScaleRio,codeMod = 'dev',dataCacheTime = 60;\r\n    dataCacheTime = codeMod==='dev'?80:60;\r\n    var timeCode = '20180420001';\r\n    function setScaleRio(){\r\n        var $ww = $(window).width();\r\n        $ww = $ww>720?720:$ww;\r\n        baseScaleRio = $ww/7.2;\r\n    }\r\n    setScaleRio();\r\n    $(window).resize(setScaleRio);\r\n    var zqApi = {\r\n        getMoreList:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//db2.gamersky.com/LabelJsonpAjax.aspx\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        getRating:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//cm1.gamersky.com/apirating/getplayersscore\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        }\r\n    };\r\n    $.fn.extend({\r\n        gsZqNav:function(){\r\n            var _this = $(this),$placeHolder = _this.closest('.gsZqNavPlaceholder'),mNavHeight = $placeHolder.height(),glNavLen = $('#gsSCMexist').length;\r\n            function mainNavTo() {\r\n                _this.find('a').on('tap',function () {\r\n                    var $ts = $(this),toTar = $ts.data('to');\r\n                    $('html,body').animate({scrollTop:$('.'+toTar).offset().top - mNavHeight},200);\r\n                });\r\n            }\r\n            function setMainNavLinkState(st) {\r\n                _this.find('a').each(function () {\r\n                    var $ts = $(this),\r\n                        toTar = $ts.data('to'),\r\n                        toTarHeight = $('.'+toTar).offset().top;\r\n                    if(st>toTarHeight - 50){\r\n                        _this.find('a').removeClass('cur');\r\n                        $ts.addClass('cur');\r\n                    }\r\n                });\r\n\r\n            }\r\n            function setMainNavState(st) {\r\n                var tarTop = $placeHolder.offset().top;\r\n                if(st>tarTop){\r\n                    _this.addClass('cur');\r\n                }else{\r\n                    _this.removeClass('cur');\r\n                }\r\n            }\r\n            function setGlNavState(st){}\r\n            //主导航\r\n            mainNavTo();\r\n            setMainNavState(0);\r\n            $(window).scroll(function () {\r\n                var st = $(window).scrollTop();\r\n                setMainNavState(st);\r\n                setMainNavLinkState(st);\r\n                if(glNavLen>0){\r\n                    setGlNavState(st);\r\n                }\r\n            });\r\n        },\r\n        gsZqInfoPlatformTime:function () {\r\n            this.each(function () {\r\n                var $ts = $(this);\r\n                function createDom(dt) {\r\n                    var $box = $ts.find('.gsZqGameInfoPlatBox'),\r\n                        vDom='',vDomNav='',vDomCon='';\r\n                    vDomNav += '<p class=\"gsZqGameInfoPlat\">平台：';\r\n                    vDomCon += '<div class=\"time gsZqGameInfoTime\">';\r\n                    $.each(dt,function (i,item) {\r\n                        var sty = '';\r\n                        sty = i===0?'cur':'';\r\n                        vDomNav += '<a class=\"'+sty+'\">'+item.pt+'</a>';\r\n                        vDomCon += '<p class=\"'+sty+'\">上市：'+item.showtime+'('+item.pt+') </p>';\r\n                    });\r\n                    vDomNav += '</p>';\r\n                    vDomCon += '</div>';\r\n                    vDom += vDomNav;\r\n                    vDom += vDomCon;\r\n                    $box.html(vDom);\r\n                }\r\n                function operationDom() {\r\n                    var $btn = $ts.find('.gsZqGameInfoPlat'),\r\n                        $item = $ts.find('.gsZqGameInfoTime');\r\n                    $btn.find('a').on('tap',function () {\r\n                        var idx = $(this).index();\r\n                        $btn.find('a').removeClass('cur').eq(idx).addClass('cur');\r\n                        $item.find('p').removeClass('cur').eq(idx).addClass('cur');\r\n                    });\r\n                }\r\n                function formatData(){\r\n                    var ptTimeData = [];\r\n                    $('#dataTimeArea').find('li').each(function () {\r\n                        var $ts = $(this).find('a'),tmpArr;\r\n                        tmpArr = {\r\n                            pt:$ts.text(),\r\n                            time:$ts.data('time'),\r\n                            showtime:$ts.data('showtime')\r\n                        };\r\n                        ptTimeData.push(tmpArr);\r\n                    });\r\n                    createDom(ptTimeData);\r\n                    operationDom();\r\n                }\r\n                formatData();\r\n            });\r\n        },\r\n        gsZqInfoIntro:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $btn = $ts.find('.gsZqGameInfoIntroMore');\r\n                var para = '<p>';\r\n                $ts.find('p').each(function (i) {\r\n                    para += $(this).text().replace('　　','');\r\n                    if(i===0){\r\n                        para += '：';\r\n                    }\r\n                }).remove();\r\n                para += '</p>';\r\n\t\t\t\tpara = para.replace(/：：/g,'：');\r\n                $('.gsZqGameInfoIntroHolder').hide();\r\n                $ts.append(para).show();\r\n                $btn.on('tap',function () {\r\n                    $ts.addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqSwp:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $swp = $ts.find('.gsZqSwp');\r\n                var zqSwp = new Swiper($swp, {\r\n                    slidesPerView:'auto',\r\n                    freeMode : true,\r\n                    freeModeSticky : true\r\n                })\r\n            });\r\n        },\r\n        gsZqTab:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $nav = $ts.find('.gztNav'),\r\n                    $box = $ts.find('.gztBox');\r\n                $nav.find('.gztNavBtn').on('tap',function () {\r\n                    var idx = $(this).index();\r\n                    $nav.find('.gztNavBtn').removeClass('cur').eq(idx).addClass('cur');\r\n                    $box.find('.gztItem').removeClass('cur').eq(idx).addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqGl:function () {\r\n            var $ts = $(this);\r\n            $('.ymw-tags').removeClass();\r\n            if($ts.find('#gsSCMexist').length<=0){\r\n                $ts.hide();\r\n                $('.gsZqNav').find('.gsZqNavGl').remove();\r\n            }else{\r\n                //$('.gsZqNav').find('.gsZqNavGl').removeClass('hide');\r\n                $ts.find('.collectbox').show().find('.gs_strategy_collect').removeClass().addClass('zq-strategy-collect');\r\n                $ts.find('.gs_sc_item_list').each(function () {\r\n                    $(this).find('li:gt(3)').remove();\r\n                });\r\n                $ts.find('a').each(function () {\r\n                    var _this = $(this),wapUrl = _this.attr('waphref');\r\n                    _this.attr('href',wapUrl);\r\n                });\r\n                function addQuickGo(zk) {\r\n                    var quickDom = '';\r\n                    quickDom += '<div class=\"gs-zq-gl-quick\">';\r\n                    $ts.find('.gs_sc_item').map(function (idx) {\r\n                        var $this = $(this);\r\n                        quickDom += '<a class=\"gsZqGlQuickBtn\" data-idx=\"'+idx+'\">'+$this.find('.gs_sc_item_btn').text()+'</a>';\r\n                    });\r\n                    quickDom += '</div>';\r\n                    $ts.find('.gsZqGlQuick').html(quickDom);\r\n                    $ts.find('.gsZqGlQuickBtn').on('tap',function () {\r\n                        var idx = $(this).data('idx'),itemTop;\r\n                        if(zk === true){\r\n                            $ts.find('.gsZqGlBoxMore').remove();\r\n                            $ts.find('.gs_sc_item:gt(1)').show();\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top - 0.7*baseScaleRio;\r\n                        }else{\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top;\r\n                        }\r\n                        $('html,body').animate({scrollTop:itemTop},200);\r\n                    });\r\n                }\r\n                function moreListFnc(){\r\n                    var $moreList = $ts.find('.gs_sc_item:gt(1)');\r\n                    $moreList.hide();\r\n                    $ts.find('.zq-strategy-collect').append('<a class=\"gs-zq-more gs-zq-more-blue gsZqGlBoxMore\">更多</a>');\r\n                    $ts.find('.gsZqGlBoxMore').on('tap',function () {\r\n                        $(this).remove();\r\n                        $moreList.show();\r\n                    });\r\n                }\r\n                if($ts.find('.gs_sc_item').length>2 && $('#gsZqStrategyShow').length<1){\r\n                    moreListFnc();\r\n                }\r\n                if($('#gsZqStrategyShow').length>0){\r\n                    addQuickGo();\r\n                }else{\r\n                    addQuickGo(true);\r\n                }\r\n            }\r\n        },\r\n        gsZqGetCommentCount:function(){\r\n            var cycm = \"\";\r\n            $(\".gsZqComment\").each(function () {\r\n                var $ts = $(this),sid = $ts.attr('data-sid'),isAdd = $ts.attr('data-add');\r\n                if (cycm !== \"\") {\r\n                    cycm = cycm + \",\"\r\n                }\r\n                if(isAdd !== 'yes'){\r\n                    cycm = cycm + sid;\r\n                }\r\n            });\r\n            if (cycm !== \"\") {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    url: \"//cm.gamersky.com/commentapi/count\",\r\n                    dataType: \"jsonp\",\r\n                    data: {\r\n                        topic_source_id: cycm\r\n                    },\r\n                    success: function (responseJson) {\r\n                        $(\".gsZqComment\").each(function () {\r\n                            var $ts = $(this);\r\n                            if (responseJson.result.hasOwnProperty($ts.attr(\"data-sid\"))) {\r\n                                var cmobj = responseJson.result[$ts.attr(\"data-sid\")];\r\n                                $ts.text(cmobj.comments).attr('data-add','yes');\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        gsZqAddLoading:function(){\r\n            var ldDom = '';\r\n            ldDom = '<div class=\"gs-zq-loading gsZqLoading\"></div>';\r\n            this.append(ldDom)\r\n        },\r\n        gsZqRemoveLoading:function(){\r\n            $('.gsZqLoading').remove();\r\n        },\r\n        gsZqGetMoreOnceTag:function(){\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $tar = $('.'+$ts.data('tar')),\r\n                    clkAble = true,\r\n                    dataCount = $tar.find('.gsZqListCount').length;\r\n                $ts.attr({'data-page':0,'data-total':dataCount});\r\n                if(dataCount < 2){\r\n                    $ts.addClass('gs-zq-more-done').html('全部加载完成');\r\n                    clkAble = false;\r\n                }\r\n                function addData(idx,sum){\r\n                    $ts.hide();\r\n                    $tar.gsZqAddLoading();\r\n                    setTimeout(function () {\r\n                        $tar.find('.gsZqListCount').eq(idx).show();\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show();\r\n                        if(idx >= sum - 1){\r\n                            $ts.addClass('gs-zq-more-done').html('全部加载完成');\r\n                        }else{\r\n                            clkAble = true;\r\n                        }\r\n                    },500);\r\n                }\r\n                $ts.on('tap',function () {\r\n                    var $t = $(this),\r\n                        nowPage = $t.attr('data-page'),\r\n                        nowTotal = $t.attr('data-total');\r\n                    if(clkAble === true){\r\n                        clkAble = false;\r\n                        if(nowPage<nowTotal){\r\n                            nowPage++;\r\n                            $t.attr('data-page',nowPage);\r\n                            addData(nowPage,nowTotal);\r\n                        }\r\n                    }\r\n                });\r\n            });\r\n        },\r\n        gsZqGetMoreOnce:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    moreUrl = $ts.data('href'),\r\n                    $tar = $('.'+$ts.data('tar'));\r\n                function addData(){\r\n                    $ts.hide();\r\n                    $tar.gsZqAddLoading();\r\n                    setTimeout(function () {\r\n                        $tar.find('ul li').show();\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().addClass('gs-zq-more-all').html('查看全部').attr({\r\n                            'href':moreUrl,\r\n                            'target':'_blank'\r\n                        });\r\n                    },500);\r\n                }\r\n                $ts.on('tap',function () {\r\n                    $ts.off();\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqGetMore:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $tar = $('.'+$ts.data('tar')),tmk,nid;\r\n                tmk = $ts.data('tmk');\r\n                nid = $ts.data('nid');\r\n                function addData(){\r\n                    var transData,tmpJson,lpg = $ts.attr('data-page');\r\n                    lpg++;\r\n                    tmpJson={\r\n                        type:\"templatekeylabel\",\r\n                        isCache:true,\r\n                        cacheTime:dataCacheTime,\r\n                        templatekey:tmk,\r\n                        id:nid,\r\n                        page:lpg\r\n                    };\r\n                    transData = {\r\n                        jsondata:JSON.stringify(tmpJson)\r\n                    };\r\n                    zqApi.getMoreList(transData,function (moreDt) {\r\n                        if(moreDt.status === 'ok'){\r\n                            var resDt = moreDt.body;\r\n                            if (resDt.indexOf(\"没有任何记录\") > 0){\r\n                                $ts.show().addClass('gs-zq-more-done').html('全部加载完成').off();\r\n                            }else{\r\n                                $tar.find('ul').append(resDt);\r\n                                $(\".gsZqComment\").gsZqGetCommentCount();\r\n                            }\r\n                        }\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().attr({\r\n                            'data-page':lpg\r\n                        });\r\n                    },function () {\r\n                        $ts.hide();\r\n                        $tar.gsZqAddLoading();\r\n                    })\r\n                }\r\n                $ts.on('tap',function () {\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqSetMinHeight:function () {\r\n            var _this = this;\r\n            function setMH(){\r\n                var hPad = _this.outerHeight() - _this.height(),\r\n                    $wh = $(window).height(),\r\n                    hHead = _this.offset().top,\r\n                    hFoot = $('.ymw-footer').outerHeight(),mH;\r\n                mH = $wh - hHead - hFoot - hPad;\r\n                _this.css({\r\n                    'min-height':mH\r\n                });\r\n            }\r\n            setMH();\r\n            $(window).resize(setMH)\r\n        },\r\n        gsZqGetRating:function () {\r\n            var transData,tmpJson,_this = this;\r\n            tmpJson = {\r\n                genneralId: _this.attr('data-gameid'),\r\n                num:'10'\r\n            };\r\n            transData = {\r\n                jsondata:JSON.stringify(tmpJson)\r\n            };\r\n            zqApi.getRating(transData,function (bdt) {\r\n                if(bdt.status === 'ok'){\r\n                    var tmpScore = bdt.sorce,\r\n                        calcScore,\r\n                        numDom = '';\r\n                    calcScore = parseFloat(tmpScore)*10+'';\r\n                    if(tmpScore !== '--' && $('#dataTimeArea').attr('date-selltime') === '已上市'){\r\n                        if(calcScore === '100'){\r\n                            numDom += '<i class=\"pnm pnm1\"></i>';\r\n                            numDom += '<i class=\"pnm pnm0\"></i>';\r\n                            _this.show().find('.gsZqRatingNum').addClass('gs-zp-rating-num-full');\r\n                        }else{\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[0]+'\"></i>';\r\n                            numDom += '<i class=\"dot\"></i>';\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[1]+'\"></i>';\r\n                        }\r\n                        _this.show().find('.gsZqRatingNum').html(numDom);\r\n                    }else{\r\n                        _this.remove();\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        gsZqCreatePic:function () {\r\n            var $tar = $('#gsZpImages'),picDom = '',picData=[];\r\n            function formatData(){\r\n                var $dataArea = $('#demo0').find('.piclist');\r\n                $dataArea.find('a').each(function () {\r\n                    var $ts = $(this),tmpSmall = $ts.attr('data-pic'),tmpTiny = $ts.find('img').attr('src'),tmpObj = {};\r\n                    tmpObj.pic = {\r\n                        small:tmpSmall,\r\n                        tiny:tmpTiny,\r\n                        origin:tmpTiny.replace('_tiny',''),\r\n                        sizeW:1000,\r\n                        sizeH:534\r\n                    };\r\n                    picData.push(tmpObj);\r\n                });\r\n            }\r\n            formatData();\r\n            picDom += '<div class=\"gs-zq-images \">';\r\n            picDom += '<div class=\"gs-zq-title-lev1\">图库</div>';\r\n            picDom += '<div class=\"gs-zq-swp gsZqSwpPicDad\">';\r\n            picDom += '<div class=\"swiper-container gsZqSwp\">';\r\n            picDom += '<div class=\"swiper-wrapper\">';\r\n            $.each(picData,function (i,item) {\r\n                picDom += '<div class=\"swiper-slide\"><a class=\"gsZqPicLook\" data-idx=\"'+i+'\"><img src=\"'+item.pic.tiny+'\" alt=\"gs\"></a></div>';\r\n            });\r\n            picDom += '';\r\n            picDom += '</div></div></div></div>';\r\n            $tar.html(picDom);\r\n\r\n            $('.gsZqSwpPicDad').gsZqSwp();\r\n            function bindPswp() {\r\n                cps.photoSwp(picData);\r\n            }\r\n            if(typeof PhotoSwipe === \"undefined\"){\r\n                var pswpLink = '<link rel=\"stylesheet\" href=\"//j.gamersky.com/css/??g/lib/photoswipe.min.css,g/lib/default-skin.min.css,?dtcode='+timeCode+'\"></link>';\r\n                $('head').append(pswpLink);\r\n                $.getScript('//j.gamersky.com/js/??g/lib/photoswipe.min.js,g/lib/photoswipe-ui-default.min.js',function () {\r\n                    bindPswp();\r\n                });\r\n            }else{\r\n                bindPswp();\r\n            }\r\n        }\r\n    });\r\n    var cps = {\r\n        DomExist:function(tar,callback){\r\n            if(tar.length>0&&typeof callback === \"function\"){\r\n                callback();\r\n            }\r\n        },\r\n        infoIntroduce:function () {\r\n            this.DomExist($('.gsZqGameInfoIntro'),function () {\r\n                $('.gsZqGameInfoIntro').gsZqInfoIntro();\r\n            });\r\n        },\r\n        infoPlatformTime:function () {\r\n            this.DomExist($('.gsZqGameInfo'),function () {\r\n                $('.gsZqGameInfo').gsZqInfoPlatformTime();\r\n            });\r\n        },\r\n        swp:function () {\r\n            this.DomExist($('.gsZqSwpDad'),function () {\r\n                $('.gsZqSwpDad').gsZqSwp();\r\n            });\r\n        },\r\n        tab:function(){\r\n            this.DomExist($('.gsZqTab'),function () {\r\n                $('.gsZqTab').gsZqTab();\r\n            });\r\n        },\r\n        gl:function(){\r\n            this.DomExist($('#gsZqStrategy'),function () {\r\n                $('#gsZqStrategy').gsZqGl();\r\n            });\r\n        },\r\n        nav:function(){\r\n            this.DomExist($('.gsZqNav'),function () {\r\n                $('.gsZqNav').gsZqNav();\r\n            });\r\n        },\r\n        moreOnce:function(){\r\n            this.DomExist($('.gsZqGetMoreOnce'),function () {\r\n                $('.gsZqGetMoreOnce').gsZqGetMoreOnce();\r\n            });\r\n            this.DomExist($('.gsZqGetMoreOnceTag'),function () {\r\n                $('.gsZqGetMoreOnceTag').gsZqGetMoreOnceTag();\r\n            });\r\n        },\r\n        more:function(){\r\n            this.DomExist($('.gsZqGetMore'),function () {\r\n                $('.gsZqGetMore').gsZqGetMore();\r\n            });\r\n        },\r\n        commentCount:function(){\r\n            this.DomExist($('.gsZqComment'),function () {\r\n                $('.gsZqComment').gsZqGetCommentCount();\r\n            });\r\n        },\r\n        setMinHeight:function(){\r\n            this.DomExist($('.gsZqLp'),function () {\r\n                $('.gsZqLp').gsZqSetMinHeight();\r\n            });\r\n        },\r\n        getRating:function(){\r\n            this.DomExist($('.gsZqRating'),function () {\r\n                $('.gsZqRating').gsZqGetRating();\r\n            });\r\n        },\r\n        //图片弹出层 默认执行,一般情况不需要修改\r\n        addSwpOnce: function () {\r\n            var swp = '<div class=\"pswp pswp-zq pswpZq\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div>';\r\n            swp += '<div class=\"pswp__ui pswp__ui--hidden\">';\r\n            swp += '<div class=\"pswp__bot-bar\">';\r\n            swp += '<a class=\"pswp-zq-origin-btn pswpBtnOrigin pswp__single-tap\" title=\"查看原图\">查看原图</a>';\r\n            swp += '<a class=\"pswp-zq-save-btn pswpBtnSave pswp__single-tap\" title=\"保存原图\"></a>';\r\n            swp += '</div>';\r\n            swp += '<div class=\"pswp__top-bar\">';\r\n            swp += '<div class=\"pswp__counter\"></div>';\r\n            swp += '<button class=\"pswp__button pswp__button--close\" title=\"关闭\"></button>';\r\n            swp += '<button class=\"pswp__button pswp__button--share\" title=\"Share\"></button> <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button> <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"上一张\"></button> <button class=\"pswp__button pswp__button--arrow--right\" title=\"下一张\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div>';\r\n            swp += '</div></div>';\r\n            $('body').append(swp);\r\n        },\r\n        //图片弹出层方法 默认执行,一般情况不需要修改\r\n        photoSwp: function (dt) {\r\n            var initPhotoSwipeFromDOM = function (gallerySelector) {\r\n                var parseThumbnailData = function (tarData) {\r\n                    var items = [];\r\n                    $.each(tarData,function (i,ehl) {\r\n                        var item = {\r\n                            msrc:ehl.pic.tiny,\r\n                            src: ehl.pic.small,\r\n                            w: ehl.pic.sizeW,\r\n                            h: ehl.pic.sizeH,\r\n                            ori: ehl.pic.origin\r\n                        };\r\n                        items.push(item);\r\n                    });\r\n                    return items;\r\n\r\n                };\r\n                var openPhotoSwipe = function (clk, index, guid, disableAnimation, fromURL) {\r\n                    var pswpElement = $('.pswpZq')[0],\r\n                        gallery,\r\n                        options,\r\n                        items;\r\n                    items = parseThumbnailData(dt);\r\n                    options = {\r\n                        shareEl: false,\r\n                        fullscreenEl: false,\r\n                        zoomEl: false,\r\n                        bgOpacity: 1,\r\n                        showHideOpacity: 0,\r\n                        galleryUID: guid,\r\n                        history: false,\r\n                        tapToClose:true,\r\n                        tapToToggleControls:false,\r\n                        index:index,\r\n                        getThumbBoundsFn: function (index) {\r\n                            var thumbnail = clk.find('img')[0],\r\n                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                                rect = thumbnail.getBoundingClientRect();\r\n                            return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\r\n                        }\r\n                    };\r\n                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\r\n                    gallery.init();\r\n                    var originIdx=0;\r\n                    function SetSaveUrl(idx){\r\n                        $('.pswpZq').find('.pswpBtnSave').attr({\r\n                            'target':'_blank',\r\n                            'href':'//pic.gamersky.com/down/index?url='+items[idx].ori\r\n                        });\r\n                    }\r\n                    gallery.listen('initialZoomIn', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                        $('.pswpZq').animate({ 'opacity': 1 }, 333);\r\n                    });\r\n                    gallery.listen('initialZoomOut', function () {\r\n                        $('.pswpZq').animate({ 'opacity': 0 }, 200);\r\n                    });\r\n                    gallery.listen('afterChange', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                    });\r\n                    function setOrigin() {\r\n                        $('.pswpZq').on('click','.pswpBtnOrigin',function () {\r\n                            $('.pswpZq').find('.pswp__img').each(function () {\r\n                                var $ts = $(this);\r\n                                if($ts.attr('src') === items[originIdx].src){\r\n                                    $ts.attr('src',items[originIdx].ori);\r\n                                }\r\n                            });\r\n                        });\r\n                    }\r\n                    setOrigin();\r\n                };\r\n                var galleryElements = $(gallerySelector);\r\n                galleryElements.attr('data-pswp-uid',1);\r\n                galleryElements.find('.gsZqPicLook').on('click',function () {\r\n                    var $ts = $(this),idx = $ts.data('idx');\r\n                    openPhotoSwipe($ts, idx, 1);\r\n                })\r\n            };\r\n            initPhotoSwipeFromDOM('.gsZqSwpPicDad');\r\n        },\r\n        createPic:function(){\r\n            var _this = this;\r\n            this.DomExist($('#demo0'),function () {\r\n                $('#demo0').gsZqCreatePic();\r\n                _this.addSwpOnce();\r\n            });\r\n        },\r\n        openClub:function(){\r\n            var _this = this,$club = $('#QZCMT');\r\n            if($.trim($club.attr('clubId'))!=='' || $.trim($club.attr('topicId'))!=='') {\r\n                _this.DomExist($club,function () {\r\n                    $.getScript('//j.gamersky.com/web2015/qzcomment/js/qzcmtconfig.wap.js');\r\n                    $('.gs-zq-club').addClass('gsZqNavPos4');\r\n                    $('.gs-zq-ku-comm').remove();\r\n                });\r\n            }else{\r\n                $('.gs-zq-club').hide();\r\n                $('.gs-zq-ku-comm').on('click','.btnDetailMore',function (ev) {\r\n                    $(this).off();\r\n                    ev.preventDefault();\r\n                    window.location.href = $('.gs-zq-ku-comm .gs-more').attr('href');\r\n                });\r\n            }\r\n        },\r\n        pzShowHide:function(){\r\n            if($('#pzMain').length>0){\r\n                if($('.pz_data').find('.PZXQ').length<1){\r\n                    $('.gs-zq-config').hide();\r\n                }\r\n            }\r\n        },\r\n        sectionShowHide:function(){\r\n            function hideSection(tar,callback) {\r\n                if(tar.text().indexOf('没有任何记录')>0){\r\n                    tar.hide().remove();\r\n                    if(typeof callback === \"function\"){\r\n                        callback();\r\n                    }\r\n                }\r\n            }\r\n            if($('.gsZqIndex').length>0){\r\n                hideSection($('.gsZqArticlePc'));\r\n                hideSection($('.gsZqDownload'));\r\n                hideSection($('.gsZqVideo'),function () {\r\n                    if($('#gsZpImages').find('.gs-zq-images').length>0){\r\n                        $('#gsZpImages').addClass('gsZqNavPos3');\r\n                    }else{\r\n                        $('.gsZqNavVP').remove();\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        init:function () {\r\n            var _this = this;\r\n            _this.nav();\r\n            _this.infoPlatformTime();\r\n            _this.infoIntroduce();\r\n            _this.tab();\r\n            _this.swp();\r\n            _this.gl();\r\n            _this.setMinHeight();\r\n            _this.moreOnce();\r\n            _this.more();\r\n            _this.commentCount();\r\n            _this.getRating();\r\n            _this.createPic();\r\n            _this.openClub();\r\n            _this.pzShowHide();\r\n            _this.sectionShowHide();\r\n        }\r\n    };\r\n    cps.init();\r\n})(jQuery);"]}