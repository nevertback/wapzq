{"version":3,"sources":["wap.zq.min.js"],"names":["$","setScaleRio","$ww","window","width","baseScaleRio","codeMod","dataCacheTime","timeCode","resize","zqApi","getMoreList","paramsData","callback","beforeSendFnc","apiUrl","ajax","type","dataType","url","data","beforeSend","success","backData","error","err","console","log","getRating","fn","extend","gsZqNav","mainNavTo","_this","find","on","$ts","this","toTar","animate","scrollTop","offset","top","mNavHeight","setMainNavLinkState","st","each","toTarHeight","removeClass","addClass","setMainNavState","tarTop","$placeHolder","setGlNavState","closest","height","glNavLen","length","scroll","gsZqInfoPlatformTime","$btn","$item","idx","index","eq","gsZqInfoIntro","para","i","text","replace","remove","append","show","gsZqSwp","$swp","Swiper","slidesPerView","freeMode","freeModeSticky","gsZqTab","$nav","$box","gsZqGl","addQuickGo","zk","quickDom","map","$this","html","itemTop","moreListFnc","$moreList","hide","wapUrl","attr","gsZqGetCommentCount","cycm","sid","isAdd","topic_source_id","responseJson","result","hasOwnProperty","cmobj","comments","gsZqAddLoading","ldDom","gsZqRemoveLoading","gsZqGetMoreOnce","addData","transData","tmpJson","isCache","cacheTime","templatekey","tmk","id","lid","nodeId","nid","page","jsondata","JSON","stringify","moreDt","status","$tar","body","href","moreUrl","target","off","gsZqGetMore","lpg","resDt","indexOf","data-page","gsZqSetMinHeight","setMH","mH","hPad","outerHeight","$wh","hHead","hFoot","css","min-height","gsZqGetRating","genneralId","num","bdt","calcScore","tmpScore","sorce","numDom","parseFloat","gsZqCreatePic","formatData","$dataArea","tmpSmall","tmpTiny","tmpObj","pic","small","tiny","origin","sizeW","sizeH","picData","push","bindPswp","cps","photoSwp","picDom","item","PhotoSwipe","pswpLink","getScript","DomExist","tar","infoIntroduce","infoPlatformTime","swp","tab","gl","nav","moreOnce","more","commentCount","setMinHeight","addSwpOnce","dt","initPhotoSwipeFromDOM","gallerySelector","parseThumbnailData","tarData","items","ehl","msrc","src","w","h","ori","openPhotoSwipe","clk","guid","disableAnimation","fromURL","SetSaveUrl","setOrigin","originIdx","gallery","options","pswpElement","shareEl","fullscreenEl","zoomEl","bgOpacity","showHideOpacity","galleryUID","history","tapToClose","tapToToggleControls","getThumbBoundsFn","thumbnail","pageYScroll","pageYOffset","document","documentElement","rect","getBoundingClientRect","x","left","y","PhotoSwipeUI_Default","init","listen","getCurrentIndex","opacity","galleryElements","createPic","openClub","jQuery"],"mappings":"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","file":"wap.zq.min.js","sourcesContent":["(function ($) {\r\n    var baseScaleRio,codeMod = 'dev',dataCacheTime = 60;\r\n    dataCacheTime = codeMod==='dev'?80:60;\r\n    var timeCode = '20180420001';\r\n    function setScaleRio(){\r\n        var $ww = $(window).width();\r\n        $ww = $ww>720?720:$ww;\r\n        baseScaleRio = $ww/7.2;\r\n    }\r\n    setScaleRio();\r\n    $(window).resize(setScaleRio);\r\n    var zqApi = {\r\n        getMoreList:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//db2.gamersky.com/LabelJsonpAjax.aspx\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        },\r\n        getRating:function (paramsData,callback,beforeSendFnc) {\r\n            var apiUrl = \"//cm1.gamersky.com/apirating/getplayersscore\";\r\n            $.ajax({\r\n                type: \"get\",\r\n                dataType: \"jsonp\",\r\n                url: apiUrl,\r\n                data: paramsData,\r\n                beforeSend: function () {\r\n                    if(typeof beforeSendFnc === 'function'){\r\n                        beforeSendFnc();\r\n                    }\r\n                },\r\n                success: function (backData) {\r\n                    if(typeof callback === 'function'){\r\n                        callback(backData);\r\n                    }\r\n                },\r\n                error:function (err) {\r\n                    console.log(err)\r\n                }\r\n            });\r\n        }\r\n    };\r\n    $.fn.extend({\r\n        gsZqNav:function(){\r\n            var _this = $(this),$placeHolder = _this.closest('.gsZqNavPlaceholder'),mNavHeight = $placeHolder.height(),glNavLen = $('#gsSCMexist').length;\r\n            function mainNavTo() {\r\n                _this.find('a').on('tap',function () {\r\n                    var $ts = $(this),toTar = $ts.data('to');\r\n                    $('html,body').animate({scrollTop:$('.'+toTar).offset().top - mNavHeight},200);\r\n                });\r\n            }\r\n            function setMainNavLinkState(st) {\r\n                _this.find('a').each(function () {\r\n                    var $ts = $(this),\r\n                        toTar = $ts.data('to'),\r\n                        toTarHeight = $('.'+toTar).offset().top;\r\n                    if(st>toTarHeight - 50){\r\n                        _this.find('a').removeClass('cur');\r\n                        $ts.addClass('cur');\r\n                    }\r\n                });\r\n\r\n            }\r\n            function setMainNavState(st) {\r\n                var tarTop = $placeHolder.offset().top;\r\n                if(st>tarTop){\r\n                    _this.addClass('cur');\r\n                }else{\r\n                    _this.removeClass('cur');\r\n                }\r\n            }\r\n            function setGlNavState(st){}\r\n            //主导航\r\n            mainNavTo();\r\n            setMainNavState(0);\r\n            $(window).scroll(function () {\r\n                var st = $(window).scrollTop();\r\n                setMainNavState(st);\r\n                setMainNavLinkState(st);\r\n                if(glNavLen>0){\r\n                    setGlNavState(st);\r\n                }\r\n            });\r\n        },\r\n        gsZqInfoPlatformTime:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $btn = $ts.find('.gsZqGameInfoPlat'),\r\n                    $item = $ts.find('.gsZqGameInfoTime');\r\n                $btn.find('a').on('tap',function () {\r\n                    var idx = $(this).index();\r\n                    $btn.find('a').removeClass('cur').eq(idx).addClass('cur');\r\n                    $item.find('p').removeClass('cur').eq(idx).addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqInfoIntro:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $btn = $ts.find('.gsZqGameInfoIntroMore');\r\n                var para = '<p>';\r\n                $ts.find('p').each(function (i) {\r\n                    para += $(this).text().replace('　　','');\r\n                    if(i===0){\r\n                        para += ':';\r\n                    }\r\n                }).remove();\r\n                para += '</p>';\r\n                $ts.append(para).show();\r\n                $btn.on('tap',function () {\r\n                    $ts.addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqSwp:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $swp = $ts.find('.gsZqSwp');\r\n                var zqSwp = new Swiper($swp, {\r\n                    slidesPerView:'auto',\r\n                    freeMode : true,\r\n                    freeModeSticky : true\r\n                })\r\n            });\r\n        },\r\n        gsZqTab:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $nav = $ts.find('.gztNav'),\r\n                    $box = $ts.find('.gztBox');\r\n                $nav.find('.gztNavBtn').on('tap',function () {\r\n                    var idx = $(this).index();\r\n                    $nav.find('.gztNavBtn').removeClass('cur').eq(idx).addClass('cur');\r\n                    $box.find('.gztItem').removeClass('cur').eq(idx).addClass('cur');\r\n                })\r\n            });\r\n        },\r\n        gsZqGl:function () {\r\n            var $ts = $(this);\r\n            $('.ymw-tags').removeClass();\r\n            if($ts.find('#gsSCMexist').length<=0){\r\n                $ts.hide();\r\n                $('.gsZqNav').find('.gsZqNavGl').remove();\r\n            }else{\r\n                //$('.gsZqNav').find('.gsZqNavGl').removeClass('hide');\r\n                $ts.find('.collectbox').show().find('.gs_strategy_collect').removeClass().addClass('zq-strategy-collect');\r\n                $ts.find('.gs_sc_item_list').each(function () {\r\n                    $(this).find('li:gt(3)').remove();\r\n                });\r\n                $ts.find('a').each(function () {\r\n                    var _this = $(this),wapUrl = _this.attr('waphref');\r\n                    _this.attr('href',wapUrl);\r\n                });\r\n                function addQuickGo(zk) {\r\n                    var quickDom = '';\r\n                    quickDom += '<div class=\"gs-zq-gl-quick\">';\r\n                    $ts.find('.gs_sc_item').map(function (idx) {\r\n                        var $this = $(this);\r\n                        quickDom += '<a class=\"gsZqGlQuickBtn\" data-idx=\"'+idx+'\">'+$this.find('.gs_sc_item_btn').text()+'</a>';\r\n                    });\r\n                    quickDom += '</div>';\r\n                    $ts.find('.gsZqGlQuick').html(quickDom);\r\n                    $ts.find('.gsZqGlQuickBtn').on('tap',function () {\r\n                        var idx = $(this).data('idx'),itemTop;\r\n                        if(zk === true){\r\n                            $ts.find('.gsZqGlBoxMore').remove();\r\n                            $ts.find('.gs_sc_item:gt(1)').show();\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top - 0.7*baseScaleRio;\r\n                        }else{\r\n                            itemTop = $ts.find('.gs_sc_item').eq(idx).offset().top;\r\n                        }\r\n                        $('html,body').animate({scrollTop:itemTop},200);\r\n                    });\r\n                }\r\n                function moreListFnc(){\r\n                    var $moreList = $ts.find('.gs_sc_item:gt(1)');\r\n                    $moreList.hide();\r\n                    $ts.find('.zq-strategy-collect').append('<a class=\"gs-zq-more gs-zq-more-blue gsZqGlBoxMore\">更多</a>');\r\n                    $ts.find('.gsZqGlBoxMore').on('tap',function () {\r\n                        $(this).remove();\r\n                        $moreList.show();\r\n                    });\r\n                }\r\n                if($ts.find('.gs_sc_item').length>2 && $('#gsZqStrategyShow').length<1){\r\n                    moreListFnc();\r\n                }\r\n                if($('#gsZqStrategyShow').length>0){\r\n                    addQuickGo();\r\n                }else{\r\n                    addQuickGo(true);\r\n                }\r\n            }\r\n        },\r\n        gsZqGetCommentCount:function(){\r\n            var cycm = \"\";\r\n            $(\".gsZqComment\").each(function () {\r\n                var $ts = $(this),sid = $ts.attr('data-sid'),isAdd = $ts.attr('data-add');\r\n                if (cycm !== \"\") {\r\n                    cycm = cycm + \",\"\r\n                }\r\n                if(isAdd !== 'yes'){\r\n                    cycm = cycm + sid;\r\n                }\r\n            });\r\n            if (cycm !== \"\") {\r\n                $.ajax({\r\n                    type: \"GET\",\r\n                    url: \"//cm.gamersky.com/commentapi/count\",\r\n                    dataType: \"jsonp\",\r\n                    data: {\r\n                        topic_source_id: cycm\r\n                    },\r\n                    success: function (responseJson) {\r\n                        $(\".gsZqComment\").each(function () {\r\n                            var $ts = $(this);\r\n                            if (responseJson.result.hasOwnProperty($ts.attr(\"data-sid\"))) {\r\n                                var cmobj = responseJson.result[$ts.attr(\"data-sid\")];\r\n                                $ts.text(cmobj.comments).attr('data-add','yes');\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        gsZqAddLoading:function(){\r\n            var ldDom = '';\r\n            ldDom = '<div class=\"gs-zq-loading gsZqLoading\"></div>';\r\n            this.append(ldDom)\r\n        },\r\n        gsZqRemoveLoading:function(){\r\n            $('.gsZqLoading').remove();\r\n        },\r\n        gsZqGetMoreOnce:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    moreUrl = $ts.data('href'),\r\n                    $tar = $('.'+$ts.data('tar')),tmk,nid,lid;\r\n                tmk = $ts.data('tmk');\r\n                nid = $ts.data('nid');\r\n                lid = $tar.find('li').eq(-1).data('id');\r\n                function addData(){\r\n                    var transData,tmpJson;\r\n                    tmpJson={\r\n                        type:\"getwaplabelpage\",\r\n                        isCache:true,\r\n                        cacheTime:dataCacheTime,\r\n                        templatekey:tmk,\r\n                        id:lid,\r\n                        nodeId:nid,\r\n                        page:2\r\n                    };\r\n                    transData = {\r\n                        jsondata:JSON.stringify(tmpJson)\r\n                    };\r\n                    zqApi.getMoreList(transData,function (moreDt) {\r\n                        if(moreDt.status === 'ok'){\r\n                            $tar.find('ul').append(moreDt.body);\r\n                        }\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().addClass('gs-zq-more-all').html('查看全部').attr({\r\n                            'href':moreUrl,\r\n                            'target':'_blank'\r\n                        }).off();\r\n                    },function () {\r\n                        $ts.hide();\r\n                        $tar.gsZqAddLoading();\r\n                    })\r\n                }\r\n                $ts.on('tap',function () {\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqGetMore:function () {\r\n            this.each(function () {\r\n                var $ts = $(this),\r\n                    $tar = $('.'+$ts.data('tar')),tmk,nid;\r\n                tmk = $ts.data('tmk');\r\n                nid = $ts.data('nid');\r\n                function addData(){\r\n                    var transData,tmpJson,lpg = $ts.attr('data-page'),lid;\r\n                    lid = $tar.find('li').eq(-1).data('id');\r\n                    lpg++;\r\n                    tmpJson={\r\n                        type:\"getwaplabelpage\",\r\n                        isCache:true,\r\n                        cacheTime:dataCacheTime,\r\n                        templatekey:tmk,\r\n                        id:lid,\r\n                        nodeId:nid,\r\n                        page:lpg\r\n                    };\r\n                    transData = {\r\n                        jsondata:JSON.stringify(tmpJson)\r\n                    };\r\n                    zqApi.getMoreList(transData,function (moreDt) {\r\n                        if(moreDt.status === 'ok'){\r\n                            var resDt = moreDt.body;\r\n                            if (resDt.indexOf(\"没有任何记录\") > 0){\r\n                                $ts.show().addClass('gs-zq-more-done').html('全部加载完成').off();\r\n                            }else{\r\n                                $tar.find('ul').append(resDt);\r\n                                $(\".gsZqComment\").gsZqGetCommentCount();\r\n                            }\r\n                        }\r\n                        $tar.gsZqRemoveLoading();\r\n                        $ts.show().attr({\r\n                            'data-page':lpg\r\n                        });\r\n                    },function () {\r\n                        $ts.hide();\r\n                        $tar.gsZqAddLoading();\r\n                    })\r\n                }\r\n                $ts.on('tap',function () {\r\n                    addData();\r\n                })\r\n            });\r\n        },\r\n        gsZqSetMinHeight:function () {\r\n            var _this = this;\r\n            function setMH(){\r\n                var hPad = _this.outerHeight() - _this.height(),\r\n                    $wh = $(window).height(),\r\n                    hHead = _this.offset().top,\r\n                    hFoot = $('.ymw-footer').outerHeight(),mH;\r\n                mH = $wh - hHead - hFoot - hPad;\r\n                _this.css({\r\n                    'min-height':mH\r\n                });\r\n            }\r\n            setMH();\r\n            $(window).resize(setMH)\r\n        },\r\n        gsZqGetRating:function () {\r\n            var transData,tmpJson,_this = this;\r\n            tmpJson = {\r\n                genneralId: _this.attr('data-gameid'),\r\n                num:'10'\r\n            };\r\n            transData = {\r\n                jsondata:JSON.stringify(tmpJson)\r\n            };\r\n            zqApi.getRating(transData,function (bdt) {\r\n                if(bdt.status === 'ok'){\r\n                    var tmpScore = bdt.sorce,\r\n                        calcScore,\r\n                        numDom = '';\r\n                    calcScore = parseFloat(tmpScore)*10+'';\r\n                    if(tmpScore !== '--'){\r\n                        if(calcScore === '100'){\r\n                            numDom += '<i class=\"pnm pnm1\"></i>';\r\n                            numDom += '<i class=\"pnm pnm0\"></i>';\r\n                            _this.find('.gsZqRatingNum').addClass('gs-zp-rating-num-full');\r\n                        }else{\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[0]+'\"></i>';\r\n                            numDom += '<i class=\"dot\"></i>';\r\n                            numDom += '<i class=\"pnm pnm'+calcScore[1]+'\"></i>';\r\n                        }\r\n                        _this.find('.gsZqRatingNum').html(numDom);\r\n                    }else{\r\n                        _this.remove();\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        gsZqCreatePic:function () {\r\n            var $tar = $('#gsZpImages'),picDom = '',picData=[];\r\n            function formatData(){\r\n                var $dataArea = $('#demo0').find('.piclist');\r\n                $dataArea.find('a').each(function () {\r\n                    var $ts = $(this),tmpSmall = $ts.attr('data-pic'),tmpTiny = $ts.find('img').attr('src'),tmpObj = {};\r\n                    tmpObj.pic = {\r\n                        small:tmpSmall,\r\n                        tiny:tmpTiny,\r\n                        origin:tmpTiny.replace('_tiny',''),\r\n                        sizeW:1000,\r\n                        sizeH:534\r\n                    };\r\n                    picData.push(tmpObj);\r\n                });\r\n            }\r\n            formatData();\r\n            picDom += '<div class=\"gs-zq-images \">';\r\n            picDom += '<div class=\"gs-zq-title-lev1\">图库</div>';\r\n            picDom += '<div class=\"gs-zq-swp gsZqSwpPicDad\">';\r\n            picDom += '<div class=\"swiper-container gsZqSwp\">';\r\n            picDom += '<div class=\"swiper-wrapper\">';\r\n            $.each(picData,function (i,item) {\r\n                picDom += '<div class=\"swiper-slide\"><a class=\"gsZqPicLook\" data-idx=\"'+i+'\"><img src=\"'+item.pic.tiny+'\" alt=\"gs\"></a></div>';\r\n            });\r\n            picDom += '';\r\n            picDom += '</div></div></div></div>';\r\n            $tar.html(picDom);\r\n\r\n            $('.gsZqSwpPicDad').gsZqSwp();\r\n            function bindPswp() {\r\n                cps.photoSwp(picData);\r\n            }\r\n            if(typeof PhotoSwipe === \"undefined\"){\r\n                var pswpLink = '<link rel=\"stylesheet\" href=\"//j.gamersky.com/css/??g/lib/photoswipe.min.css,g/lib/default-skin.min.css,?dtcode='+timeCode+'\"></link>';\r\n                $('head').append(pswpLink);\r\n                $.getScript('//j.gamersky.com/js/??g/lib/photoswipe.min.js,g/lib/photoswipe-ui-default.min.js',function () {\r\n                    bindPswp();\r\n                });\r\n            }else{\r\n                bindPswp();\r\n            }\r\n        }\r\n    });\r\n    var cps = {\r\n        DomExist:function(tar,callback){\r\n            if(tar.length>0&&typeof callback === \"function\"){\r\n                callback();\r\n            }\r\n        },\r\n        infoIntroduce:function () {\r\n            this.DomExist($('.gsZqGameInfoIntro'),function () {\r\n                $('.gsZqGameInfoIntro').gsZqInfoIntro();\r\n            });\r\n        },\r\n        infoPlatformTime:function () {\r\n            this.DomExist($('.gsZqGameInfo'),function () {\r\n                $('.gsZqGameInfo').gsZqInfoPlatformTime();\r\n            });\r\n        },\r\n        swp:function () {\r\n            this.DomExist($('.gsZqSwpDad'),function () {\r\n                $('.gsZqSwpDad').gsZqSwp();\r\n            });\r\n        },\r\n        tab:function(){\r\n            this.DomExist($('.gsZqTab'),function () {\r\n                $('.gsZqTab').gsZqTab();\r\n            });\r\n        },\r\n        gl:function(){\r\n            this.DomExist($('#gsZqStrategy'),function () {\r\n                $('#gsZqStrategy').gsZqGl();\r\n            });\r\n        },\r\n        nav:function(){\r\n            this.DomExist($('.gsZqNav'),function () {\r\n                $('.gsZqNav').gsZqNav();\r\n            });\r\n        },\r\n        moreOnce:function(){\r\n            this.DomExist($('.gsZqGetMoreOnce'),function () {\r\n                $('.gsZqGetMoreOnce').gsZqGetMoreOnce();\r\n            });\r\n        },\r\n        more:function(){\r\n            this.DomExist($('.gsZqGetMore'),function () {\r\n                $('.gsZqGetMore').gsZqGetMore();\r\n            });\r\n        },\r\n        commentCount:function(){\r\n            this.DomExist($('.gsZqComment'),function () {\r\n                $('.gsZqComment').gsZqGetCommentCount();\r\n            });\r\n        },\r\n        setMinHeight:function(){\r\n            this.DomExist($('.gsZqLp'),function () {\r\n                $('.gsZqLp').gsZqSetMinHeight();\r\n            });\r\n        },\r\n        getRating:function(){\r\n            this.DomExist($('.gsZqRating'),function () {\r\n                $('.gsZqRating').gsZqGetRating();\r\n            });\r\n        },\r\n        //图片弹出层 默认执行,一般情况不需要修改\r\n        addSwpOnce: function () {\r\n            var swp = '<div class=\"pswp pswp-zq pswpZq\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div>';\r\n            swp += '<div class=\"pswp__ui pswp__ui--hidden\">';\r\n            swp += '<div class=\"pswp__bot-bar\">';\r\n            swp += '<a class=\"pswp-zq-origin-btn pswpBtnOrigin pswp__single-tap\" title=\"查看原图\">查看原图</a>';\r\n            swp += '<a class=\"pswp-zq-save-btn pswpBtnSave pswp__single-tap\" title=\"保存原图\"></a>';\r\n            swp += '</div>';\r\n            swp += '<div class=\"pswp__top-bar\">';\r\n            swp += '<div class=\"pswp__counter\"></div>';\r\n            swp += '<button class=\"pswp__button pswp__button--close\" title=\"关闭\"></button>';\r\n            swp += '<button class=\"pswp__button pswp__button--share\" title=\"Share\"></button> <button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button> <button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"上一张\"></button> <button class=\"pswp__button pswp__button--arrow--right\" title=\"下一张\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div>';\r\n            swp += '</div></div>';\r\n            $('body').append(swp);\r\n        },\r\n        //图片弹出层方法 默认执行,一般情况不需要修改\r\n        photoSwp: function (dt) {\r\n            var initPhotoSwipeFromDOM = function (gallerySelector) {\r\n                var parseThumbnailData = function (tarData) {\r\n                    var items = [];\r\n                    $.each(tarData,function (i,ehl) {\r\n                        var item = {\r\n                            msrc:ehl.pic.tiny,\r\n                            src: ehl.pic.small,\r\n                            w: ehl.pic.sizeW,\r\n                            h: ehl.pic.sizeH,\r\n                            ori: ehl.pic.origin\r\n                        };\r\n                        items.push(item);\r\n                    });\r\n                    return items;\r\n\r\n                };\r\n                var openPhotoSwipe = function (clk, index, guid, disableAnimation, fromURL) {\r\n                    var pswpElement = $('.pswpZq')[0],\r\n                        gallery,\r\n                        options,\r\n                        items;\r\n                    items = parseThumbnailData(dt);\r\n                    options = {\r\n                        shareEl: false,\r\n                        fullscreenEl: false,\r\n                        zoomEl: false,\r\n                        bgOpacity: 1,\r\n                        showHideOpacity: 0,\r\n                        galleryUID: guid,\r\n                        history: false,\r\n                        tapToClose:true,\r\n                        tapToToggleControls:false,\r\n                        index:index,\r\n                        getThumbBoundsFn: function (index) {\r\n                            var thumbnail = clk.find('img')[0],\r\n                                pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                                rect = thumbnail.getBoundingClientRect();\r\n                            return { x: rect.left, y: rect.top + pageYScroll, w: rect.width };\r\n                        }\r\n                    };\r\n                    gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, options);\r\n                    gallery.init();\r\n                    var originIdx=0;\r\n                    function SetSaveUrl(idx){\r\n                        $('.pswpZq').find('.pswpBtnSave').attr({\r\n                            'target':'_blank',\r\n                            'href':'//pic.gamersky.com/down/index?url='+items[idx].ori\r\n                        });\r\n                    }\r\n                    gallery.listen('initialZoomIn', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                        $('.pswpZq').animate({ 'opacity': 1 }, 333);\r\n                    });\r\n                    gallery.listen('initialZoomOut', function () {\r\n                        $('.pswpZq').animate({ 'opacity': 0 }, 200);\r\n                    });\r\n                    gallery.listen('afterChange', function () {\r\n                        originIdx = gallery.getCurrentIndex();\r\n                        SetSaveUrl(originIdx);\r\n                    });\r\n                    function setOrigin() {\r\n                        $('.pswpZq').on('click','.pswpBtnOrigin',function () {\r\n                            $('.pswpZq').find('.pswp__img').each(function () {\r\n                                var $ts = $(this);\r\n                                if($ts.attr('src') === items[originIdx].src){\r\n                                    $ts.attr('src',items[originIdx].ori);\r\n                                }\r\n                            });\r\n                        });\r\n                    }\r\n                    setOrigin();\r\n                };\r\n                var galleryElements = $(gallerySelector);\r\n                galleryElements.attr('data-pswp-uid',1);\r\n                galleryElements.find('.gsZqPicLook').on('click',function () {\r\n                    var $ts = $(this),idx = $ts.data('idx');\r\n                    openPhotoSwipe($ts, idx, 1);\r\n                })\r\n            };\r\n            initPhotoSwipeFromDOM('.gsZqSwpPicDad');\r\n        },\r\n        createPic:function(){\r\n            var _this = this;\r\n            this.DomExist($('#demo0'),function () {\r\n                $('#demo0').gsZqCreatePic();\r\n                _this.addSwpOnce();\r\n            });\r\n        },\r\n        openClub:function(){\r\n            var _this = this;\r\n            this.DomExist($('#QZCMT'),function () {\r\n                $.getScript('//j.gamersky.com/web2015/qzcomment/js/qzcmtconfig.wap.js');\r\n            });\r\n        },\r\n        init:function () {\r\n            var _this = this;\r\n            _this.nav();\r\n            _this.infoPlatformTime();\r\n            _this.infoIntroduce();\r\n            _this.tab();\r\n            _this.swp();\r\n            _this.gl();\r\n            _this.setMinHeight();\r\n            _this.moreOnce();\r\n            _this.more();\r\n            _this.commentCount();\r\n            _this.getRating();\r\n            _this.createPic();\r\n            _this.openClub();\r\n        }\r\n    };\r\n    cps.init();\r\n})(jQuery);"]}